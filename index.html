<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Are You Secretly a Communist?</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #8B0000, #DC143C, #B22222);
            min-height: 100vh;
            color: #fff;
            overflow-x: hidden;
            user-select: none;
        }

        .container {
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            animation: fadeInDown 1s ease-out;
        }

        .title {
            font-size: 2.2rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            margin-bottom: 10px;
            line-height: 1.2;
        }

        .subtitle {
            font-size: 1rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .hammer-sickle {
            font-size: 3rem;
            color: #FFD700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: pulse 2s infinite;
        }

        .card-container {
            position: relative;
            width: 100%;
            height: 280px;
            perspective: 1000px;
            margin-bottom: 20px;
        }

        .question-card {
            position: absolute;
            width: 100%;
            height: 100%;
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 2px solid rgba(255,255,255,0.3);
            padding: 25px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transform-origin: center;
            transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
            box-shadow: 0 8px 32px rgba(0,0,0,0.4);
        }

        .question-text {
            font-size: 1.3rem;
            text-align: center;
            line-height: 1.5;
            font-weight: 600;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            margin-bottom: 25px;
        }

        .progress {
            text-align: center;
            font-size: 1rem;
            opacity: 0.9;
            margin-bottom: 25px;
            font-weight: 500;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        .buttons {
            display: flex;
            gap: 20px;
            width: 100%;
        }

        .btn {
            flex: 1;
            padding: 18px 20px;
            border: none;
            border-radius: 15px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            min-height: 60px;
        }

        .btn-yes {
            background: rgba(255,255,255,0.95);
            color: #8B0000;
            box-shadow: 0 4px 12px rgba(255,255,255,0.2);
        }

        .btn-no {
            background: rgba(139, 0, 0, 0.9);
            color: white;
            border: 2px solid rgba(255,255,255,0.4);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .btn:active {
            transform: scale(0.95);
        }

        .btn-yes:hover {
            background: rgba(255,255,255,1);
            transform: translateY(-2px);
        }

        .btn-no:hover {
            background: rgba(139, 0, 0, 1);
            transform: translateY(-2px);
        }

        .card-exit-left {
            transform: translateX(-120%) rotate(-30deg);
            opacity: 0;
        }

        .card-exit-right {
            transform: translateX(120%) rotate(30deg);
            opacity: 0;
        }

        .reveal {
            display: none;
            text-align: center;
            animation: revealAnimation 2s ease-out;
        }

        .reveal.show {
            display: block;
        }

        .result-title {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 20px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
        }

        .result-communist {
            color: #FFD700;
        }

        .result-capitalist {
            color: #90EE90;
        }

        .result-message {
            font-size: 1.2rem;
            line-height: 1.5;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .restart-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.5);
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .restart-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes revealAnimation {
            0% {
                opacity: 0;
                transform: scale(0.5) rotateY(180deg);
            }
            50% {
                transform: scale(1.1) rotateY(90deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotateY(0deg);
            }
        }

        .start-screen {
            text-align: center;
        }

        .start-btn {
            background: rgba(255,215,0,0.9);
            color: #8B0000;
            border: none;
            padding: 20px 40px;
            border-radius: 25px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-top: 30px;
            box-shadow: 0 4px 16px rgba(255,215,0,0.3);
        }

        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255,215,0,0.4);
        }

        .quiz-content {
            display: none;
            width: 100%;
        }

        .quiz-content.show {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        @media (max-height: 600px) {
            .card-container {
                height: 240px;
            }
            .title {
                font-size: 1.8rem;
                margin-bottom: 5px;
            }
            .question-text {
                font-size: 1.1rem;
                margin-bottom: 20px;
            }
            .btn {
                padding: 15px;
                font-size: 1.1rem;
                min-height: 50px;
            }
        }

        @media (max-width: 360px) {
            .container {
                padding: 15px;
            }
            .question-text {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">Are You Secretly a Communist?</h1>
            <div class="hammer-sickle">â˜­</div>
        </div>

        <div class="start-screen" id="startScreen">
            <p class="subtitle">Take this highly scientific quiz to discover your true political allegiance</p>
            <button class="start-btn" onclick="startQuiz()">Begin Investigation</button>
        </div>

        <div class="quiz-content" id="quizContent">
            <div class="progress" id="progress">Question 1 of 7</div>
            <div class="card-container" id="cardContainer">
                <div class="question-card" id="questionCard">
                    <div class="question-text" id="questionText"></div>
                    <div class="buttons">
                        <button class="btn btn-yes" onclick="answer(true)">Yes</button>
                        <button class="btn btn-no" onclick="answer(false)">No</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="reveal" id="reveal">
            <div class="result-title" id="resultTitle"></div>
            <div class="result-message" id="resultMessage"></div>
            <button class="restart-btn" onclick="restart()">Take Quiz Again</button>
        </div>
    </div>

    <script>
        const questions = [
            "Do you share your Netflix password with friends?",
            "Have you ever felt suspicious of people who own multiple houses?",
            "Do you think everyone should have access to healthcare?",
            "Have you ever been in a group chat where resources were shared equally?",
            "Do you get annoyed when someone hoards all the good snacks at work?",
            "Have you ever thought 'eat the rich' unironically?",
            "Do you prefer community gardens over private lawns?",
            "Have you ever felt like your boss doesn't deserve their salary?",
            "Do you think water should be free for everyone?",
            "Have you ever shared your lunch with a hungry coworker?",
            "Do you get suspicious when you see gated communities?",
            "Have you ever thought about how much CEOs make compared to their workers?",
            "Do you believe in splitting the bill equally at restaurants?",
            "Have you ever felt like landlords are just legal extortionists?",
            "Do you think public transportation should be free?"
        ];

        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let answers = [];

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function startQuiz() {
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('quizContent').classList.add('show');
            
            // Select 7 random questions
            const shuffledQuestions = shuffleArray(questions);
            currentQuestions = shuffledQuestions.slice(0, 7);
            currentQuestionIndex = 0;
            answers = [];
            
            showQuestion();
        }

        function showQuestion() {
            const questionText = document.getElementById('questionText');
            const progress = document.getElementById('progress');
            const card = document.getElementById('questionCard');
            
            // Reset card position
            card.className = 'question-card';
            
            questionText.textContent = currentQuestions[currentQuestionIndex];
            progress.textContent = `Question ${currentQuestionIndex + 1} of 7`;
        }

        function answer(response) {
            answers.push(response);
            
            const card = document.getElementById('questionCard');
            
            // Animate card exit
            if (response) {
                card.classList.add('card-exit-right');
            } else {
                card.classList.add('card-exit-left');
            }
            
            setTimeout(() => {
                currentQuestionIndex++;
                
                if (currentQuestionIndex < 7) {
                    showQuestion();
                } else {
                    showResult();
                }
            }, 300);
        }

        function showResult() {
            document.getElementById('quizContent').classList.remove('show');
            
            // Biased dice roll - 70% chance of communist
            const isCommunist = Math.random() < 0.7;
            
            const reveal = document.getElementById('reveal');
            const resultTitle = document.getElementById('resultTitle');
            const resultMessage = document.getElementById('resultMessage');
            
            if (isCommunist) {
                resultTitle.textContent = "COMRADE DETECTED!";
                resultTitle.className = "result-title result-communist";
                resultMessage.innerHTML = "Our advanced algorithms have determined that you are indeed a secret communist!<br><br>Welcome to the revolution, comrade. Your membership card is in the mail.";
            } else {
                resultTitle.textContent = "CAPITALIST CONFIRMED";
                resultTitle.className = "result-title result-capitalist";
                resultMessage.innerHTML = "Congratulations! You have successfully avoided communist detection.<br><br>Your love of private property and free markets has been noted by the algorithm.";
            }
            
            reveal.classList.add('show');
        }

        function restart() {
            document.getElementById('reveal').classList.remove('show');
            document.getElementById('startScreen').style.display = 'block';
            document.getElementById('quizContent').classList.remove('show');
        }
    </script>
</body>
</html>
